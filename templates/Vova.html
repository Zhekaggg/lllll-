<html>
<head>
  <style>
    .cup {
      width: 100px;
      height: 100px;
      border: 2px solid black;
      border-radius: 50%;
      background-color: white;
      position: absolute;
      top: 200px;
      cursor: pointer;
    }

    .ball {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: red;
      position: absolute;
      top: 225px;
      left: 175px;
      display: none;
    }

    #cup1 {
      left: 150px;
    }

    #cup2 {
      left: 300px;
    }

    #cup3 {
      left: 450px;
    }

    #play {
      width: 100px;
      height: 50px;
      font-size: 20px;
      position: absolute;
      top: 50px;
      left: 250px;
    }
  </style>
</head>
<body>
  <div id="cup1" class="cup"></div>
  <div id="cup2" class="cup"></div>
  <div id="cup3" class="cup"></div>
  <div id="ball" class="ball"></div>
  <button id="play">Играть</button>
  <script>
    // Получаем элементы
    var cup1 = document.getElementById("cup1");
    var cup2 = document.getElementById("cup2");
    var cup3 = document.getElementById("cup3");
    var ball = document.getElementById("ball");
    var play = document.getElementById("play");

    // Генерируем случайное число от 1 до 3
    function random() {
      return Math.floor(Math.random() * 3) + 1;
    }

    // Показываем мячик под одним из напёрстков
    function showBall() {
      var n = random();
      if (n == 1) {
        ball.style.left = "175px";
      } else if (n == 2) {
        ball.style.left = "325px";
      } else {
        ball.style.left = "475px";
      }
      ball.style.display = "block";
    }

    // Прячем мячик
    function hideBall() {
      ball.style.display = "none";
    }

    // Перемешиваем напёрстки
    function shuffle() {
      var n = random();
      if (n == 1) {
        cup1.style.left = "450px";
        cup3.style.left = "150px";
      } else if (n == 2) {
        cup2.style.left = "150px";
        cup1.style.left = "300px";
      } else {
        cup3.style.left = "300px";
        cup2.style.left = "450px";
      }
    }

    // Возвращаем напёрстки на исходные позиции
    function reset() {
      cup1.style.left = "150px";
      cup2.style.left = "300px";
      cup3.style.left = "450px";
    }

    // Проверяем, где мячик
    function check(n) {
      if (n == 1 && ball.style.left == "175px") {
        alert("Вы выиграли!");
      } else if (n == 2 && ball.style.left == "325px") {
        alert("Вы выиграли!");
      } else if (n == 3 && ball.style.left == "475px") {
        alert("Вы выиграли!");
      } else {
        alert("Вы проиграли!");
      }
    }

    // Добавляем обработчики событий
    play.addEventListener("click", function() {
      showBall();
      setTimeout(hideBall, 1000);
      setTimeout(shuffle, 2000);
      setTimeout(reset, 4000);
    });

    cup1.addEventListener("click", function() {
      check(1);
    });

    cup2.addEventListener("click", function() {
      check(2);
    });

    cup3.addEventListener("click", function() {
      check(3);
    });
  </script>
</body>
</html>

