<html>
<head>
  <style>
    .cup {
      width: 100px;
      height: 100px;
      border: 2px solid black;
      border-radius: 50%;
      background-color: white;
      position: absolute;
      top: 200px;
      cursor: pointer;
      /* –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ transition –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ */
      transition: all 1s ease;
    }

    #cup1 {
      left: 100px;
    }

    #cup2 {
      left: 300px;
    }

    #cup3 {
      left: 500px;
    }

    #ball {
      width: 50px;
      height: 50px;
      border: 2px solid black;
      border-radius: 50%;
      background-color: red;
      position: absolute;
      top: 225px;
      left: 325px;
      display: none;
      /* –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ animation –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º—è—á–∞ */
      animation: bounce 0.5s infinite alternate;
    }

    #play {
      width: 100px;
      height: 50px;
      font-size: 20px;
      background-color: green;
      color: white;
      position: absolute;
      top: 50px;
      left: 350px;
      cursor: pointer;
    }

    #message {
      font-size: 30px;
      text-align: center;
      position: absolute;
      top: 350px;
      left: 250px;
      display: none;
    }

    /* –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∏–ª–æ @keyframes –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º—è—á–∞ */
    @keyframes bounce {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-50px);
      }
    }
  </style>
</head>
<body>
  <div id="cup1" class="cup"></div>
  <div id="cup2" class="cup"></div>
  <div id="cup3" class="cup"></div>
  <div id="ball"></div>
  <button id="play">–ò–≥—Ä–∞—Ç—å</button>
  <div id="message"></div>
  <script>
    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
    var cup1 = document.getElementById("cup1");
    var cup2 = document.getElementById("cup2");
    var cup3 = document.getElementById("cup3");
    var ball = document.getElementById("ball");
    var play = document.getElementById("play");
    var message = document.getElementById("message");

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 3
    function random() {
      return Math.floor(Math.random() * 3) + 1;
    }

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º—è—á–∏–∫ –ø–æ–¥ –æ–¥–Ω–∏–º –∏–∑ –Ω–∞–ø—ë—Ä—Å—Ç–∫–æ–≤
    function showBall() {
      var n = random();
      if (n == 1) {
        ball.style.left = "125px";
      } else if (n == 2) {
        ball.style.left = "325px";
      } else {
        ball.style.left = "525px";
      }
      ball.style.display = "block";
    }

    // –ü—Ä—è—á–µ–º –º—è—á–∏–∫
    function hideBall() {
      ball.style.display = "none";
    }

    // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –Ω–∞–ø—ë—Ä—Å—Ç–∫–∏
    function shuffle() {
      var n = random();
      if (n == 1) {
        cup1.style.left = "500px";
        cup3.style.left = "100px";
      } else if (n == 2) {
        cup1.style.left = "300px";
        cup2.style.left = "100px";
      } else {
        cup2.style.left = "500px";
        cup3.style.left = "300px";
      }
    }

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–ø—ë—Ä—Å—Ç–∫–∏ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
    function reset() {
      cup1.style.left = "100px";
      cup2.style.left = "300px";
      cup3.style.left = "500px";
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≥–¥–µ –º—è—á–∏–∫
    function check(n) {
      if (n == 1 && ball.style.left == "125px") {
        return true;
      } else if (n == 2 && ball.style.left == "325px") {
        return true;
      } else if (n == 3 && ball.style.left == "525px") {
        return true;
      } else {
        return false;
      }
    }

    // –ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É
    function start() {
      play.disabled = true; // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –∏–≥—Ä–∞—Ç—å
      showBall(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º—è—á–∏–∫
      setTimeout(hideBall, 1000); // –ü—Ä—è—á–µ–º –º—è—á–∏–∫ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
      setTimeout(shuffle, 1500); // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –Ω–∞–ø—ë—Ä—Å—Ç–∫–∏ —á–µ—Ä–µ–∑ –ø–æ–ª—Ç–æ—Ä—ã —Å–µ–∫—É–Ω–¥—ã
    }

    // –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ–º –∏–≥—Ä—É
    function end(n) {
      play.disabled = false; // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –∏–≥—Ä–∞—Ç—å
      showBall(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º—è—á–∏–∫
      reset(); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–ø—ë—Ä—Å—Ç–∫–∏ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
      if (check(n)) { // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –≤—ã–±—Ä–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        message.innerHTML = "–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏! üéâ";
      } else {
        message.innerHTML = "–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! üò¢";
      }
      message.style.display = "block"; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
      setTimeout(function() {
        message.style.display = "none"; // –ü—Ä—è—á–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
      }, 1000);
    }

    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    play.addEventListener("click", start); // –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–≥—Ä–∞—Ç—å
    cup1.addEventListener("click", function() {
      end(1); // –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –ø–µ—Ä–≤—ã–π –Ω–∞–ø—ë—Ä—Å—Ç–æ–∫
    });
    cup2.addEventListener("click", function() {
      end(2); // –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –≤—Ç–æ—Ä–æ–π –Ω–∞–ø—ë—Ä—Å—Ç–æ–∫
    });
    cup3.addEventListener("click", function() {
      end(3); // –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ —Ç—Ä–µ—Ç–∏–π –Ω–∞–ø—ë—Ä—Å—Ç–æ–∫
    });
  </script>
</body>
</html>

